# ‚öôÔ∏è Trading Bot Configuration Guide

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—è—Å–Ω—é—î **–≤—Å—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∫–æ–Ω—Ñ—ñ–≥–∞**, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±–æ—Ç.  
–ú–µ—Ç–∞: –¥–∞—Ç–∏ –∑–º–æ–≥—É –Ω–∞–ª–∞—à—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞–≤—ñ—Ç—å –ª—é–¥–∏–Ω—ñ –±–µ–∑ –¥–æ—Å–≤—ñ–¥—É —Ç—Ä–µ–π–¥–∏–Ω–≥—É.

---

## üìå –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

–ö–æ–Ω—Ñ—ñ–≥ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –≤–µ–ª–∏–∫–∏—Ö –±–ª–æ–∫—ñ–≤:

1. **`analysisConfig`** ‚Äî –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–Ω–∞–ª—ñ–∑—É —Ä–∏–Ω–∫—É (—Å–≤—ñ—á–∫–∏, –≤–∞–≥–∏, –ø–æ—Ä–æ–≥–∏).
2. **`strategy`** ‚Äî —Ç–æ—Ä–≥–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞ (–≤—Ö—ñ–¥, —Ä–∏–∑–∏–∫, —Ç–µ–π–∫–∏, —Å—Ç–æ–ø–∏, —Ç—Ä–µ–π–ª—ñ–Ω–≥).

---

## üîç 1. `analysisConfig`

### `candleTimeframe`

- ‚è±Ô∏è –¢–∞–π–º—Ñ—Ä–µ–π–º —Å–≤—ñ—á–æ–∫, —è–∫—ñ –∞–Ω–∞–ª—ñ–∑—É—é—Ç—å—Å—è.
- –ü—Ä–∏–∫–ª–∞–¥–∏: `'1m'`, `'3m'`, `'5m'`, `'15m'`, `'1h'`.
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:
  - –°–∫–∞–ª—å–ø—ñ–Ω–≥: `1m‚Äì3m`
  - –Ü–Ω—Ç—Ä–∞–¥–µ–π: `5m‚Äì15m`
  - –°–≤—ñ–Ω–≥: `1h+`

---

### –í—ñ–∫–Ω–∞ —ñ—Å—Ç–æ—Ä—ñ—ó

–í–∏–∑–Ω–∞—á–∞—é—Ç—å, **—Å–∫—ñ–ª—å–∫–∏ –¥–∞–Ω–∏—Ö –±–µ—Ä–µ–º–æ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É**:

- `oiWindow` ‚Üí Open Interest (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `20` = 20 —Ö–≤ —ñ—Å—Ç–æ—Ä—ñ—ó).
- `liqWindow` ‚Üí –õ—ñ–∫–≤—ñ–¥–Ω—ñ—Å—Ç—å —É —Å—Ç–∞–∫–∞–Ω—ñ.
- `liqSentWindow` ‚Üí –°–∫—ñ–ª—å–∫–∏ —Ö–≤–∏–ª–∏–Ω –¥–∏–≤–∏–º–æ—Å—è –ª—ñ–∫–≤—ñ–¥–∞—Ü—ñ—ó.
- `fundingWindow` ‚Üí –°–∫—ñ–ª—å–∫–∏ —á–∞—Å—É —É—Å–µ—Ä–µ–¥–Ω—é—î–º–æ funding rate.
- `volWindow` ‚Üí ATR (–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ñ—Å—Ç—å).
- `corrWindow` ‚Üí –ü–µ—Ä—ñ–æ–¥ –¥–ª—è –∫–æ—Ä–µ–ª—è—Ü—ñ—ó –∑ BTC.
- `longShortWindow` ‚Üí –ü–µ—Ä—ñ–æ–¥ –¥–ª—è long/short ratio.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: `2‚Äì10` (—à–≤–∏–¥–∫–∞ —Ä–µ–∞–∫—Ü—ñ—è).
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: `10‚Äì30`.
- –°–≤—ñ–Ω–≥: `50+`.

---

### `weights` (–≤–∞–≥–∏ –º–æ–¥—É–ª—ñ–≤)

–í–∏–∑–Ω–∞—á–∞—é—Ç—å, **–Ω–∞—Å–∫—ñ–ª—å–∫–∏ –≤–∞–∂–ª–∏–≤–∏–π –∫–æ–∂–µ–Ω —Ñ–∞–∫—Ç–æ—Ä —É —Ñ—ñ–Ω–∞–ª—å–Ω–æ–º—É —Å–∫–æ—Ä—ñ**.  
–°—É–º–∞ –Ω–µ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ = 1 (–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–æ–±–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ).

- `trend` ‚Üí EMA/RSI —Å–∏–≥–Ω–∞–ª–∏.
- `trendRegime` ‚Üí ADX/DI (—á–∏ —î —Ç—Ä–µ–Ω–¥).
- `liquidity` ‚Üí –û—Ä–¥–µ—Ä–±—É–∫ (–¥–µ –≥—Ä–æ—à—ñ).
- `funding` ‚Üí –§–∞–Ω–¥—ñ–Ω–≥.
- `liquidations` ‚Üí –õ—ñ–∫–≤—ñ–¥–∞—Ü—ñ—ó.
- `openInterest` ‚Üí OI –∑–º—ñ–Ω–∏.
- `longShort` ‚Üí –°–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è –ª–æ–Ω–≥—ñ–≤/—à–æ—Ä—Ç—ñ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: —Ä–æ–±–∏–º–æ –∞–∫—Ü–µ–Ω—Ç –Ω–∞ `liquidity`, `liquidations`, `trend`.
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: –±–∞–ª–∞–Ω—Å –º—ñ–∂ `trend`, `openInterest`, `funding`.
- –°–≤—ñ–Ω–≥: –±—ñ–ª—å—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è `trend`, `trendRegime`, `OI`.

---

### `moduleThresholds`

–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø–æ—Ä–æ–≥–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–æ–¥—É–ª—è. –Ø–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∏–∂—á–µ ‚Üí –º–æ–¥—É–ª—å **–Ω–µ –∑–∞—Ä–∞—Ö–æ–≤—É—î—Ç—å—Å—è**.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: –Ω–∏–∑—å–∫—ñ –ø–æ—Ä–æ–≥–∏ (`3‚Äì15`).
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: —Å–µ—Ä–µ–¥–Ω—ñ (`15‚Äì30`).
- –°–≤—ñ–Ω–≥: –≤–∏—Å–æ–∫—ñ (`30‚Äì50`).

---

## üéØ 2. `strategy`

### `entry` (–ø—Ä–∞–≤–∏–ª–∞ –≤—Ö–æ–¥—É)

- `minScore` ‚Üí –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Å—É–º–∞—Ä–Ω–∏–π —Å–∫–æ—Ä –¥–ª—è LONG/SHORT.
- `minModules` ‚Üí –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–æ–¥—É–ª—ñ–≤, —â–æ –ø—Ä–æ–π—à–ª–∏ –ø–æ—Ä—ñ–≥.
- `requiredModules` ‚Üí –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –º–æ–¥—É–ª—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `['trend']`).
- `maxSpreadPct` ‚Üí –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —Å–ø—Ä–µ–¥ (%) —É —Å—Ç–∞–∫–∞–Ω—ñ –¥–ª—è –≤—Ö–æ–¥—É.
- `cooldownMin` ‚Üí –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —á–∞—Å —É —Ö–≤–∏–ª–∏–Ω–∞—Ö –º—ñ–∂ —É–≥–æ–¥–∞–º–∏ –ø–æ –æ–¥–Ω—ñ–π –º–æ–Ω–µ—Ç—ñ.
- `avoidWhen`:
  - `volatility: 'DEAD'` ‚Üí –Ω–µ —Ç–æ—Ä–≥—É–≤–∞—Ç–∏ —É —Ñ–ª–µ—Ç—ñ.
  - `fundingExtreme.absOver` ‚Üí –Ω–µ —Ç–æ—Ä–≥—É–≤–∞—Ç–∏, —è–∫—â–æ funding > X.
- `sideBiasTolerance` ‚Üí –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ LONG —ñ SHORT, —â–æ–± –±—Ä–∞—Ç–∏ —Å—Ç–æ—Ä–æ–Ω—É.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: `minScore` 30‚Äì40, `minModules` 2, `sideBiasTolerance` 0.5‚Äì1.5.
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: `minScore` 45‚Äì55, `minModules` 3+, `sideBiasTolerance` 3‚Äì5.
- –°–≤—ñ–Ω–≥: `minScore` 55+, `minModules` 4+, `sideBiasTolerance` 5‚Äì10.

---

### `volatilityFilter`

- `deadBelow` ‚Üí —è–∫—â–æ ATR% < X ‚Üí —Ä–∏–Ω–æ–∫ –≤–≤–∞–∂–∞—î—Ç—å—Å—è "–º–µ—Ä—Ç–≤–∏–º".
- `extremeAbove` ‚Üí —è–∫—â–æ ATR% > Y ‚Üí —Ä–∏–Ω–æ–∫ "–∑–∞–Ω–∞–¥—Ç–æ –≥–∞—Ä—è—á–∏–π".

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: `deadBelow = 0.1‚Äì0.2`, `extremeAbove = 3‚Äì4`.
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: `deadBelow = 0.25‚Äì0.4`, `extremeAbove = 2.5‚Äì3`.
- –°–≤—ñ–Ω–≥: `deadBelow = 0.5+`, `extremeAbove = 2`.

---

### `capital`

- `account` ‚Üí —Ä–æ–∑–º—ñ—Ä —Ä–∞—Ö—É–Ω–∫—É (USD).
- `riskPerTradePct` ‚Üí —Ä–∏–∑–∏–∫ –Ω–∞ —É–≥–æ–¥—É (% –≤—ñ–¥ —Ä–∞—Ö—É–Ω–∫—É).
- `leverage` ‚Üí –ø–ª–µ—á–µ.
- `maxConcurrentPositions` ‚Üí –º–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö —É–≥–æ–¥.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: `riskPerTradePct = 0.5‚Äì1%`, `leverage = 5‚Äì10`.
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: `0.5‚Äì1%`, `leverage = 3‚Äì5`.
- –°–≤—ñ–Ω–≥: `0.25‚Äì0.5%`, `leverage = 1‚Äì3`.

---

### `sizing`

- `maxAdds` ‚Üí —Å–∫—ñ–ª—å–∫–∏ –¥–æ–ª–∏–≤—ñ–≤ (DCA) –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏.
- `addOnAdverseMovePct` ‚Üí –¥–æ–ª–∏–≤–∞—Ç–∏ –ø—Ä–∏ —Ä—É—Å—ñ –ø—Ä–æ—Ç–∏ –Ω–∞ X%.
- `addMultiplier` ‚Üí –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —Ä–æ–∑–º—ñ—Ä—É –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –¥–æ–ª–∏–≤—É.

### `exits`

#### Take-Profit (`tp`)

- `tpGridPct` ‚Üí –≤—ñ–¥—Å–æ—Ç–∫–∏ –¥–ª—è —Ç–µ–π–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `[1, 2, 3]`).
- `tpGridSizePct` ‚Üí —è–∫–∏–π % –ø–æ–∑–∏—Ü—ñ—ó –∑–∞–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ç–µ–π–∫—É.

#### Stop-Loss (`sl`)

- `type`:
  - `'hard'` ‚Üí —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π %,
  - `'atr'` ‚Üí —Å—Ç–æ–ø –≤—ñ–¥ ATR.
- `hardPct` ‚Üí —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π —Å—Ç–æ–ø (%).
- `atrMult` ‚Üí –º–Ω–æ–∂–Ω–∏–∫ ATR.
- `signalRules` ‚Üí —É–º–æ–≤–∏ –¥–ª—è flip (–∑–º—ñ–Ω–∏ LONG ‚Üî SHORT).

#### Time-stop (`time`)

- `maxHoldMin` ‚Üí –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π —á–∞—Å —É—Ç—Ä–∏–º–∞–Ω–Ω—è —É–≥–æ–¥–∏.
- `noPnLFallback` ‚Üí —â–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –Ω–µ–º–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (`'close' | 'none'`).

#### Trailing (`trailing`)

- `use` ‚Üí –≤–∫–ª/–≤–∏–∫–ª.
- `startAfterPct` ‚Üí –ø—ñ—Å–ª—è —è–∫–æ–≥–æ –ø—Ä–∏–±—É—Ç–∫—É –≤–º–∏–∫–∞—î—Ç—å—Å—è.
- `trailStepPct` ‚Üí –∫—Ä–æ–∫ –ø—ñ–¥—Ç—è–≥—É–≤–∞–Ω–Ω—è.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó**:

- –°–∫–∞–ª—å–ø—ñ–Ω–≥: `tpGridPct = [0.5, 1]`, `sl: atr √ó1.0`, `maxHoldMin = 5‚Äì30`.
- –Ü–Ω—Ç—Ä–∞–¥–µ–π: `tpGridPct = [1, 2, 3]`, `sl: atr √ó1.5`, `maxHoldMin = 60‚Äì120`.
- –°–≤—ñ–Ω–≥: `tpGridPct = [3, 5, 10]`, `sl: atr √ó2`, `maxHoldMin = 1‚Äì5 –¥–Ω—ñ–≤`.

---

## ‚úÖ –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–Ω—Ñ—ñ–≥–∞ –¥–ª—è —Å–∫–∞–ª—å–ø—ñ–Ω–≥—É (1m)

```json
{
  "analysisConfig": {
    "candleTimeframe": "1m",
    "oiWindow": 5,
    "liqWindow": 5,
    "liqSentWindow": 2,
    "fundingWindow": 10,
    "volWindow": 14,
    "corrWindow": 2,
    "longShortWindow": 2,
    "weights": {
      "trend": 0.25,
      "liquidity": 0.3,
      "liquidations": 0.2,
      "openInterest": 0.15,
      "funding": 0.05
    },
    "moduleThresholds": {
      "trend": 20,
      "liquidity": 15,
      "liquidations": 10,
      "openInterest": 10
    }
  },
  "strategy": {
    "entry": {
      "minScore": { "LONG": 35, "SHORT": 35 },
      "minModules": 2,
      "requiredModules": [],
      "maxSpreadPct": 0.08,
      "cooldownMin": 1,
      "sideBiasTolerance": 1
    },
    "volatilityFilter": {
      "deadBelow": 0.1,
      "extremeAbove": 3.5
    },
    "capital": {
      "account": 200,
      "riskPerTradePct": 0.5,
      "leverage": 5,
      "maxConcurrentPositions": 3
    },
    "sizing": {
      "maxAdds": 2,
      "addOnAdverseMovePct": 0.4,
      "addMultiplier": 1.1
    },
    "exits": {
      "tp": { "use": true, "tpGridPct": [0.5, 1], "tpGridSizePct": [50, 50] },
      "sl": { "type": "atr", "atrMult": 1.0 },
      "time": { "maxHoldMin": 15, "noPnLFallback": "close" },
      "trailing": { "use": true, "startAfterPct": 0.5, "trailStepPct": 0.25 }
    }
  }
}
```
